<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Human-sensors by marcpaul</title>

    <link rel="stylesheet" href="stylesheets/github-light.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.css">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <meta name="viewport" content="width=device-width">

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.js"></script>
    <script type="text/javascript" src="javascripts/script.js"></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
    <div class="wrapper">
        <header>
            <h1>human-sensors</h1>
            <p>Collecting data from different sensors</p>

            <p class="view"><a href="https://github.com/marcpaul/human-sensors">View the Project on GitHub <small>marcpaul/human-sensors</small></a></p>


            <ul>
                <li><a href="https://github.com/marcpaul/human-sensors/zipball/master">Download <strong>ZIP File</strong></a></li>
                <li><a href="https://github.com/marcpaul/human-sensors/tarball/master">Download <strong>TAR Ball</strong></a></li>
                <li><a href="https://github.com/marcpaul/human-sensors">View On <strong>GitHub</strong></a></li>
            </ul>


            <menu type="toolbar">
                <menuitem><a href="#sensors-included">Sensors included</a></menuitem>
                <br>
                <strong>Electronic Components:</strong>
                <menuitem><a href="#hardware-olimex">Olimex</a></menuitem>
                <menuitem><a href="#hardware-ti">Texas Instruments</a></menuitem>
                <menuitem><a href="#hardware-is">InvenSense</a></menuitem>
                <menuitem><a href="#hardware-analog">Analog</a></menuitem>
                <menuitem><a href="#hardware-maxim">Maxim</a></menuitem>
                <br>
                <menuitem><a href="#my-prototypes">My Prototypes</a></menuitem>
                <br>
                <menuitem><a href="#software">IDE/Editors</a></menuitem>
            </menu>


        </header>
        <section>
            <p>This was part of a project for a "dream study". The device was battery powered so the patient could stay at home in his normal environment. The data sampled could be written on sd-card or transfered via bluetooth.</p>

            <h2><a id="sensors-included" class="anchor" href="#sensors-included" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sensors included:</h2>

            <ul>
                <li>3-axis leg sensors</li>
                <li>ECG</li>
                <li>8-channel EEG</li>
                <li>EMG</li>
                <li>EOG</li>
                <li>3-axis accelerometer for general movement</li>
            </ul>

            <h2><a id="hardware-setup" class="anchor" href="#hardware-setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Electronic Components:</h2>

            <div class="hardware" id="hardware-olimex">
                <img src="images/olimexino-stm32-map.jpg" alt="Olimexino STM32" usemap="stm32-map">
                <map name="stm32-map">
                <!-- #$-:Image map file created by GIMP Image Map plug-in -->
                <!-- #$-:GIMP Image Map plug-in by Maurits Rijk -->
                <!-- #$-:Please do not edit lines starting with "#$" -->
                <!-- #$VERSION:2.3 -->
                <!-- #$AUTHOR:MARC PAUL -->
                <area shape="circle" coords="312,37,30"  nohref="nohref" data-tooltip-content="used to control leds, buttons, switches etc." data-tooltip-title="digital pins">
                <area shape="circle" coords="474,227,30"  nohref="nohref" data-tooltip-title="analog pins" data-tooltip-content="used to sample analog signals from ecg shield and other sensors.">
                <area shape="circle" coords="98,297,30"  nohref="nohref" data-tooltip-title="UEXT connector" data-tooltip-content="the UEXT connector is an Olimex standard. all essential communication interfaces are present: RS232, SPI, I2C and 3.3V/ground.">
                <area shape="circle" coords="62,134,30"  nohref="nohref" data-tooltip-title="SD-CARD connector" data-tooltip-content="all data can be saved to SD-CARD on the backside of the board.">
                </map>
                <p>
                    <span class="octicon link-external"></span><a href="https://www.olimex.com/Products/Duino/STM32/OLIMEXINO-STM32/open-source-hardware" target="_blank">Olimex Olimexino-STM32</a> board with STM32F103RBT6 microcontroller
                </p>
                <h3>Libraries</h3>
                <dd>
                    <dt>Libmaple/Wire</dt>
                    <dl class="">
                        <p>Libraries for the <a href="http://www.leaflabs.com/maple" target="_blank">LeafLabs Maple</a>. Based on Arduino Libraries. The Wire Library handles the communication to I2C devices.</p>
                    </dl>
                </dd>
                <dd>
                    <dt>SD-CARD</dt>
                    <dl class="">
                        <a href="https://github.com/marcpaul/human-sensors/tree/master/libraries/SdFat" target="_blank">Based on the SDFAT Library.</a>
                        <p>I made some minor changes to the code to work with the Olimexino STM32.
                            <small><a target="_blank" href="http://code.google.com/p/maple-sdfat/downloads/list">Maple SDFAT Library</a></small></p>
                    </dl>
                </dd>
            </div>
            <div class="hardware">
                <img src="images/mod-mag-map.jpg" alt="Olimex MOD-MAG" usemap="mod-mag-map">
                <map name="mod-mag-map">
                <!-- #$-:Image map file created by GIMP Image Map plug-in -->
                <!-- #$-:GIMP Image Map plug-in by Maurits Rijk -->
                <!-- #$-:Please do not edit lines starting with "#$" -->
                <!-- #$VERSION:2.3 -->
                <!-- #$AUTHOR:MARC PAUL -->
                <area shape="circle" coords="128,310,30"  nohref="nohref" data-tooltip-title="Freescale MAG3110" data-tooltip-content="three-axis digital magnetometer">
                <area shape="circle" coords="252,365,30"  nohref="nohref" data-tooltip-title="UEXT connector" data-tooltip-content="the MOD-MAG uses the I2C interface.">
                </map>
                <p>
                    <a href="https://www.olimex.com/Products/Modules/Sensors/MOD-MAG/open-source-hardware" target="_blank">Olimex MOD-MAG</a> 3-axis magnetometer MAG3110
                </p>
                <h3>Libraries</h3>
                <dd>
                    <dt>MAG 3110</dt>
                    <dl class="">
                        <a href="https://github.com/marcpaul/human-sensors/tree/master/libraries/mag3110" target="_blank">Also based on the Arduino Version.</a>
                    </dl>
                </dd>
            </div>
            <div class="hardware">
                <img src="images/mod-lcd3310-map.jpg" alt="Olimex MOD-LCD3310" usemap="mod-lcd3310-map">
                <map name="mod-lcd3310-map">
                <!-- #$-:Image map file created by GIMP Image Map plug-in -->
                <!-- #$-:GIMP Image Map plug-in by Maurits Rijk -->
                <!-- #$-:Please do not edit lines starting with "#$" -->
                <!-- #$VERSION:2.3 -->
                <!-- #$AUTHOR:MARC PAUL -->
                <area shape="circle" coords="242,39,30"  nohref="nohref" data-tooltip-title="UEXT connector" data-tooltip-content="i used the GPIO interface to drive the LCD.">
                </map>
                <p>
                    <a href="https://www.olimex.com/Products/Modules/LCD/MOD-LCD3310/open-source-hardware" target="_blank">Olimex MOD-LCD3310</a> Nokia 3310 LCD display
                </p>
                <h3>Libraries</h3>
                <dd>
                    <dt>LCD 3310</dt>
                    <dl class="">
                        <a href="https://github.com/marcpaul/human-sensors/tree/master/libraries/LCD3310" target="_blank">Based on the demo project for the LPC-P1227.</a>
                    </dl>
                </dd>
            </div>
            <div class="hardware">
                <img src="images/mod-bt-map.jpg" alt="Olimexino MOD-BT" usemap="mod-bt-map">
                <map name="mod-bt-map">
                <!-- #$-:Image map file created by GIMP Image Map plug-in -->
                <!-- #$-:GIMP Image Map plug-in by Maurits Rijk -->
                <!-- #$-:Please do not edit lines starting with "#$" -->
                <!-- #$VERSION:2.3 -->
                <!-- #$AUTHOR:MARC PAUL -->
                <area shape="circle" coords="37,207,30"  nohref="nohref" data-tooltip-title="UEXT connector" data-tooltip-content="the MOD-MAG uses RS232. all other interfaces should be physically disconnected so you can use several devices on the UEXT bus.">
                </map>
                <p>
                    <a href="https://www.olimex.com/Products/Modules/RF/MOD-BT/" target="_blank">Olimex MOD-BT</a> bluetooth module
                </p>
                <h3>Libraries</h3>
                <dd>
                    <dt>Bluetooth</dt>
                    <dl class="">
                        <span>I've included the initialization in </span>
                        <a href="https://github.com/marcpaul/human-sensors/blob/master/libraries/PP_Ext/analog.cpp" target="_blank">my code</a><span> because you can use simple "AT" commands.</span>
                    </dl>
                </dd>
            </div>
            <div class="hardware">
                <img src="images/shield-ekg-emg-map.jpg" alt="Olimexino SHIELD-EKG-EMG" usemap="shield-ekg-emg-map">
                <map name="shield-ekg-emg-map">
                <!-- #$-:Image map file created by GIMP Image Map plug-in -->
                <!-- #$-:GIMP Image Map plug-in by Maurits Rijk -->
                <!-- #$-:Please do not edit lines starting with "#$" -->
                <!-- #$VERSION:2.3 -->
                <!-- #$AUTHOR:MARC PAUL -->
                <area shape="circle" coords="494,114,30"  nohref="nohref" data-tooltip-title="digital pins" data-tooltip-content="not connected.">
                <area shape="circle" coords="288,392,30"  nohref="nohref" data-tooltip-title="analog pins" data-tooltip-content="connected to Olimexino STM32 analog inputs.">
                <area shape="circle" coords="453,408,30"  nohref="nohref" data-tooltip-title="board selector" data-tooltip-content="you can use several boards in one device. on every board one jumper must be closed.">
                <area shape="circle" coords="135,142,30"  nohref="nohref" data-tooltip-title="input for electrodes" data-tooltip-content="this is a stereo jack used to connect the 3 electrodes.">
                </map>
                <p>
                    <a href="https://www.olimex.com/Products/Duino/Shields/SHIELD-EKG-EMG/open-source-hardware" target="_blank">Olimex SHIELD-ECG-EMG</a> ECG/EMG shield for STM32 board
                </p>
            </div>
            <div class="hardware">
                <img src="images/uextx5.jpg" alt="Olimex UEXT 5-Port Splitter and Extender">
                <p>
                    <a href="https://www.olimex.com/Products/Modules/Interface/UEXTx5/open-source-hardware" target="_blank">Olimex UEXT 5-Port Splitter and Extender</a>
                </p>
            </div>
            <div class="hardware">
                <img src="images/lipo6600.jpg" alt="Olimex LiPo Battery">
                <p>
                    <a href="https://www.olimex.com/Products/Power/BATTERY-LIPO6600mAh/" target="_blank">Olimex LiPo Battery</a> 3.7V/6.600mAh
                </p>
            </div>



            <div class="hardware" id="hardware-ti">
                <img src="images/g2553.jpg" alt="Texas Instruments MSP430G2553" width="40%">
                <p>
                    <a href="http://www.ti.com/product/msp430g2533" target="_blank">Texas Instruments MSP430G2553</a> microcontroller
                </p>
            </div>
            <div class="hardware">
                <img src="images/INA111.jpg" alt="Texas Instruments INA111">
                <p>
                    <a href="http://www.ti.com/product/INA111" target="_blank">Texas Instruments INA111</a> instrumentation amplifiers
                </p>
            </div>
            <div class="hardware">
                <img src="images/INA326.jpg" alt="Texas Instruments INA326">
                <p>
                    <a href="http://www.ti.com/product/ina326" target="_blank">Texas Instruments INA326</a> instrumentation amplifiers
                </p>
            </div>
            <div class="hardware">
                <img src="images/OPA2604.jpg" alt="Texas Instruments OPA2604">
                <p>
                    <a href="http://www.ti.com/product/opa2604" target="_blank">Texas Instruments OPA2604</a> operational amplifiers
                </p>
            </div>
            <div class="hardware" id="hardware-is">
                <img src="images/mpu-6050.jpg" alt="InvenSense MPU 6050" width="30%">
                <p>
                    <a href="https://www.invensense.com/products/motion-tracking/6-axis/mpu-6050/" target="_blank">InvenSense MPU 6050</a> motion tracking device
                </p>
                <h3>Libraries</h3>
                <dd>
                    <dt>MPU 6050</dt>
                    <dl class="">
                        <a href="https://github.com/marcpaul/human-sensors/tree/master/libraries/MPU6050" target="_blank">Yes, originally for the Arduino, adapted to STM32.</a>
                    </dl>
                </dd>
            </div>
            <div class="hardware" id="hardware-analog">
                <img src="images/adg-1608.jpg" alt="Analog ADG1608">
                <p>
                    <a href="http://www.analog.com/en/products/switches-multiplexers/analog-switches-multiplexers/adg1608.html" target="_blank">Analog ADG1608</a> 4-channel multiplexer
                </p>
            </div>
            <div class="hardware" id="hardware-maxim">
                <img src="images/ds1337.jpg" alt="Maxim DS1337">
                <p>
                    <a href="https://www.maximintegrated.com/en/products/digital/real-time-clocks/DS1337.html" target="_blank">Maxim DS1337</a> I2C serial real-time clock
                </p>
                <h3>Libraries</h3>
                <dd>
                    <dt>DS 1337</dt>
                    <dl class="">
                        <a href="https://github.com/marcpaul/human-sensors/tree/master/libraries/ds1337" target="_blank">Based on the Arduino Library.</a>
                        <p>I made some changes to fit my project. But this version should run on every Olimexino STM32.</p>
                    </dl>
                </dd>
            </div>
            <div class="hardware">
                <img src="images/ds2438.jpg" alt="Maxim DS2438">
                <p>
                    <a href="https://www.maximintegrated.com/en/products/power/battery-management/DS2438.html" target="_blank">Maxim DS2438</a> smart battery monitor
                </p>
            </div>
            <div class="hardware">
                <img src="images/recom-rnm.jpg" alt="Recom RNM Series" width="25%">
                <p>
                    <a href="https://www.recom-power.com/pdf/Econoline/RNM.pdf" target="_blank">Recom RNM 0505S</a> DC/DC Converters
                </p>
            </div>
            <h2><a id="my-prototypes" class="anchor" href="#my-prototypes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>My Prototypes:</h2>
            <div class="prototype">
                <img src="images/eeg_rld.jpg" alt="EEG Right Leg Drive" usemap="eeg-rld-map">
                <map name="eeg-rld-map">
                <!-- #$-:Image map file created by GIMP Image Map plug-in -->
                <!-- #$-:GIMP Image Map plug-in by Maurits Rijk -->
                <!-- #$-:Please do not edit lines starting with "#$" -->
                <!-- #$VERSION:2.3 -->
                <!-- #$AUTHOR:MARC PAUL -->
                <area shape="rect" coords="27,111,303,299"  nohref="nohref" data-tooltip-content="This is the DC/DC Converter Block. The Converter is a Recom RNM 0505S. All other parts are filters to reduce noise from the power source. The 5V DC input is on the 2-pin connector." data-tooltip-title="DC/DC Converter">
                <area shape="rect" coords="295,30,350,84"  nohref="nohref" data-tooltip-content="This is the Right Leg Drive Connector. Like the name suggests you put the electrodes on the Rigth Leg of the Patient." data-tooltip-title="Connector">
                <area shape="rect" coords="362,74,440,163"  nohref="nohref" data-tooltip-content="The same Op-Amp is used on all boards to amplify the signal." data-tooltip-title="Operational Amplifier">
                <area shape="rect" coords="422,185,468,275"  nohref="nohref" data-tooltip-content="Connects to first 2-Channel EEG Board. 5V DC Analog (filtered) and 5V DC Digital." data-tooltip-title="Output">
                </map>
                <p>EEG Right Leg Drive</p>
            </div>
            <div class="prototype">
                <img src="images/eeg_2ch.jpg" alt="EEG 2-Channel Board" usemap="eeg-2ch-map">
                <map name="eeg-2ch-map">
                <!-- #$-:Image map file created by GIMP Image Map plug-in -->
                <!-- #$-:GIMP Image Map plug-in by Maurits Rijk -->
                <!-- #$-:Please do not edit lines starting with "#$" -->
                <!-- #$VERSION:2.3 -->
                <!-- #$AUTHOR:MARC PAUL -->
                <area shape="rect" coords="27,30,135,146"  nohref="nohref" data-tooltip-content="Input: From the Right Leg Drive Board. Output: To the second 2-Channel EEG Board." data-tooltip-title="Input/Output">
                <area shape="rect" coords="306,53,367,121"  nohref="nohref" data-tooltip-content="Texas Instruments INA111 Instrumentation Amplifier with a gain of 12.2" data-tooltip-title="Instrumentation Amplifier">
                <area shape="rect" coords="496,55,563,121"  nohref="nohref" data-tooltip-content="The signal from the Right Leg Drive." data-tooltip-title="Input">
                <area shape="rect" coords="362,122,402,196"  nohref="nohref" data-tooltip-content="With the Potentiometer you can set the gain between 6 and 100. Recommended is about 40." data-tooltip-title="Gain">
                <area shape="rect" coords="387,238,460,307"  nohref="nohref" data-tooltip-content="Texas Instruments Op-Amp to amplify signal and as a 3rd order Besselworth filter to reduce 50Hz noise." data-tooltip-title="2-Channel Operational Amplifier">
                <area shape="rect" coords="138,154,243,262"  nohref="nohref" data-tooltip-content="Protects the patient from ESD and limits current." data-tooltip-title="ESD protection">
                <area shape="rect" coords="24,260,85,321"  nohref="nohref" data-tooltip-content="The input from the electrodes." data-tooltip-title="Input">
                </map>
                <p>EEG 2-Channel Board</p>
            </div>
            <div class="prototype">
                <img src="images/electrodes.jpg" alt="Ambu Neuroline 720 Electrodes">
                <p>
                    <span>Ambu Neuroline 720 Single Patient Surface Electrodes</span><br>
                    <span>The Electrodes have a K-Connector with 1.5mm Diameter.</span><br>
                    <span>The matching connectors to fit into custom enclosure.</span><br>
                    <span>I used Multi-Contact MLB1.5R. They are available in many different colors.</span>
                </p>
            </div>
            <h2><a id="software" class="anchor" href="#software" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>IDE/Editors:</h2>
            <a href="https://www.eclipse.org/" target="_blank">Eclipse IDE</a>
            <p>This project can be imported into Eclipse without changes. You must use the GCC Toolchain with Eclipse.</p><br>
            <a href="https://github.com/leaflabs/maple-ide" target="_blank">Maple IDE</a>
            <p>You can use the code in main.cpp with the Maple IDE without libmaple and makefiles. Of course you must import all other libraries into Maple. With Maple you can write code and program any board with the stm32 cortex m3 processor, like the Olimexino STM32.</p>
            <a href="http://energia.nu/" target="_blank">Energia</a>
            <p>With the Energia IDE you can program any Texas Instruments Microcontroller, like the one I used the MSP430G2553.</p>
            <a href="https://atom.io/" target="_blank">Atom</a>
            <p>Now I'm using the wonderful Atom Editor with the <a href="http://platformio.org/" target="_blank">PlatformIO</a> Package.</p>
            <p>This is the perfect combination because you can customize the shit out of the Atom Editor and PlatformIO supports all main Microcontrollers like the Texas Instruments MSP Series, the Arm Cortex, Arduino of course and many many more.</p>

        </section>
        <footer>
            <p>This project is maintained by <a href="https://github.com/marcpaul">marcpaul</a></p>
            <p><small>Hosted on GitHub Pages</small></p>
            <p><small>Theme based on <a href="https://github.com/orderedlist">orderedlist</a></small></p>
        </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>

</body>

</html>
